<ion-header class="ion-no-border" [translucent]="true">
  <ion-toolbar>
    <ion-title>
      <div class="wrap">
        <ion-button class="ion-no-padding ion-no-margin" routerLink="../../../tab2" fill="clear">
          <ion-icon name="arrow-back-outline"></ion-icon>
        </ion-button>
        <span>
          Coins
        </span>
      </div>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngIf="!found" class="not-found-text-wrapper">
    This token does not exist in your vallet.    
  </div>
  <ion-card *ngIf="found">
    <ion-card-header>
      <div class="functions">
        <ion-button fill="clear">
          <ion-icon name="color-filter-outline"></ion-icon>
          Aggregate
        </ion-button>
        <ion-button fill="clear">
          <ion-icon name="person-circle-outline"></ion-icon>
          Send
        </ion-button>
      </div>
      <ion-avatar>
        <img *ngIf="token[0]?.icon && token[0]?.icon !== '' " src="{{token[0]?.icon}}" alt="tokenIcon">
        <img *ngIf="token[0]?.icon && token[0]?.icon === '' " [src]="token[0]?.icon" alt="tokenIcon">
        <img *ngIf="token[0]?.tokenid === '0x00'" src="assets/minima-logo-box.svg" alt="tokenIcon">
      </ion-avatar>
      <div class="token-details">
        <h2>{{ token[0]?.token }}</h2>
        <p class="ion-no-padding ion-no-margin">
          <span id="coinAmount">{{coins?.length}}</span> coin<span *ngIf="coins?.length > 1">s</span> available</p>
      </div>

    </ion-card-header>
    <ion-card-header id="tools" class="ion-no-padding">
      <ion-icon name="settings"></ion-icon>
    </ion-card-header>
    <ion-card-content class="ion-no-padding">
      <div *ngIf="!isCoinsFound" class="not-found-text-wrapper">
        Coins not found for token, please try again.
      </div>
      <ion-grid *ngIf="isCoinsFound">
        <ion-row *ngFor="let coin of coins">
          <ion-col sizeXs="3" sizeSm="2" sizeMd="1">
            <ion-avatar><img src="assets/coin.svg" alt="coinImage"></ion-avatar>
          </ion-col>
          <ion-col>
            {{ 
              coin.coin.address.substring(0, 7) + '...' +
              coin.coin.address.substring(coin.coin.address.length-2, coin.coin.address.length)
            }}
          </ion-col>
          <ion-col>
            <ion-label>
              {{ coin.coin.amount }}
            </ion-label>
          </ion-col>
          <ion-col id="checkbox">
            <ion-checkbox></ion-checkbox>
          </ion-col>
        </ion-row>
      </ion-grid>
      <!-- <ion-list *ngIf="isCoinsFound">
        <ion-item *ngFor="let coin of coins">
          <h2>
            {{ 
              coin.coin.address.substring(0, 7) + '...' +
              coin.coin.address.substring(coin.coin.address.length-2, coin.coin.address.length)
            }}
          </h2>
        </ion-item>
      </ion-list> -->
    </ion-card-content>
  </ion-card>
</ion-content>
